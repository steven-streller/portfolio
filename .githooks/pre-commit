#!/bin/bash

echo "ğŸ” Running pre-commit checks..."

# Check if make is available
if ! command -v make &> /dev/null; then
    echo "âŒ make not found. Please install make."
    exit 1
fi

# Run tests (format-check + build)
echo "ğŸ§ª Running tests..."
if ! make test; then
    echo ""
    echo "âŒ Pre-commit checks failed!"
    echo "ğŸ’¡ Run 'make format' to fix formatting issues."
    exit 1
fi

echo "âœ… All pre-commit checks passed!"
exit 0